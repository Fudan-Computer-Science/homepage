---
sidebar_position: 99
title : 附錄 -- HydroOJ 整體架構流程圖
description: ''
hide_table_of_contents: true
---

## HydroOJ 整體架構流程圖
注：下圖為 HydroOJ 整體架構流程圖，參考自 [官方repo](https://github.com/hydro-dev/Hydro) 非官方之圖式，有誤請不吝告知我們進行修正，謝謝！
```mermaid
flowchart TD
    user -->|瀏覽器請求 GET/POST| before-handler
    before-handler --> handler
    handler --> after-handler
    handler -->|渲染HTML/body| addPage
    handler --> tmp 
    addPage -->|注射HTML/body| user

    addon -->|新增| before-handler
    addon -->|新增| after-handler
    addon -->|使用| tmp

    subgraph HydroOJ 伺服器
        tmp[其他HydroOJ服務]
        subgraph 路由系統
            before-handler(前置處理器)
            handler[處理器]
            after-handler(後置處理器)
        end
        subgraph addon *附加套件系統*
            addon[附加套件]
        end
    end
    subgraph HydroOJ 客戶端
        user[使用者]
        addPage[注射 *addPage*]
    end
```



## HydroOJ 套件資料夾結構
```
my-addon/
├── package.json
├── frontend?/
    ├── \[a-zA-Z0-9_\]+.page.tsx?
├── locales?/
    ├── ko.yml?
    ├── zh_TW.yml?
    ├── en.yml?
    ├── zh.yml?
├── public?/
├── templates?/
    ├── <>.html?
├── index.ts
```
有`?`的資料夾或檔案表示是選用的不是必須的
- `package.json`：套件的設定檔案 (預設就會有)
- `frontend/`：注射前端頁面檔案 (選用)
  - `\[a-zA-Z0-9_\]+.page.tsx`：注射前端頁面檔案 (選用)
- `locales/`：多國語系檔案 (選用)
- `public/`：靜態資源檔案 (選用)
- `templates/`：路由渲染前端模板檔案 (選用)
- `index.ts`：套件主要程式碼 (預設就會有)

import Authors from '@site/src/components/DocsAuthor/AuthorCard';

<Authors authors={["14thAdvancedTeachingDirector"]} size="h3" />
