<!doctype html>
<html lang="zh-TW" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-講義/講義/上課講義/th/advanced_class/STL" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">STL containers | 復旦程式設計班</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://Fudan-Computer-Science.github.io/homepage/img/FDHS_CPP-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://Fudan-Computer-Science.github.io/homepage/img/FDHS_CPP-social-card.jpg"><meta data-rh="true" property="og:url" content="https://Fudan-Computer-Science.github.io/homepage/docs/講義/講義/上課講義/th/advanced_class/STL/"><meta data-rh="true" property="og:locale" content="zh_TW"><meta data-rh="true" name="docusaurus_locale" content="zh-TW"><meta data-rh="true" name="docsearch:language" content="zh-TW"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="STL containers | 復旦程式設計班"><link data-rh="true" rel="icon" href="/homepage/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Fudan-Computer-Science.github.io/homepage/docs/講義/講義/上課講義/th/advanced_class/STL/"><link data-rh="true" rel="alternate" href="https://Fudan-Computer-Science.github.io/homepage/docs/講義/講義/上課講義/th/advanced_class/STL/" hreflang="zh-TW"><link data-rh="true" rel="alternate" href="https://Fudan-Computer-Science.github.io/homepage/docs/講義/講義/上課講義/th/advanced_class/STL/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://P2A7UCAY5O-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"講義","item":"https://Fudan-Computer-Science.github.io/homepage/docs/category/講義"},{"@type":"ListItem","position":2,"name":"歷屆講義","item":"https://Fudan-Computer-Science.github.io/homepage/docs/category/歷屆講義"},{"@type":"ListItem","position":3,"name":"第十四屆","item":"https://Fudan-Computer-Science.github.io/homepage/docs/category/第十四屆"},{"@type":"ListItem","position":4,"name":"第十四屆進階班","item":"https://Fudan-Computer-Science.github.io/homepage/docs/category/第十四屆進階班"},{"@type":"ListItem","position":5,"name":"STL containers","item":"https://Fudan-Computer-Science.github.io/homepage/docs/講義/講義/上課講義/th/advanced_class/STL"}]}</script><link rel="alternate" type="application/rss+xml" href="/homepage/blog/rss.xml" title="復旦程式設計班 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/homepage/blog/atom.xml" title="復旦程式設計班 Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="復旦程式設計班" href="/homepage/opensearch.xml">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/homepage/assets/css/styles.019b4e35.css">
<script src="/homepage/assets/js/runtime~main.afe1b20c.js" defer="defer"></script>
<script src="/homepage/assets/js/main.f6affc9d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/homepage/img/logo.svg"><div role="region" aria-label="跳至主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳至主要内容</a></div><nav aria-label="主導航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切換導覽列" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/homepage/"><div class="navbar__logo"><img src="/homepage/img/logo.svg" alt="FDCS Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="32" width="32"><img src="/homepage/img/logo.svg" alt="FDCS Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="32" width="32"></div><b class="navbar__title text--truncate">FDCS復旦程式設計班</b></a><a class="navbar__item navbar__link" href="/homepage/docs/category/介紹/">介紹</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/homepage/docs/category/講義/">講義</a><a class="navbar__item navbar__link" href="/homepage/blog/">部落格</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/homepage/Calendar/">行事曆</a><a class="navbar__item navbar__link" href="/homepage/games/">神奇小遊戲(?</a><a href="https://github.com/Fudan-Computer-Science/homepage/tree/main/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="切換淺色/深色模式（當前為system mode）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜尋 (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜尋</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到頂部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文件側邊欄" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/homepage/docs/category/講義/"><span title="講義" class="categoryLinkLabel_W154">講義</span></a><button aria-label="收起側邊欄分類 &#x27;講義&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/homepage/docs/category/入班考講義/"><span title="入班考講義" class="categoryLinkLabel_W154">入班考講義</span></a><button aria-label="展開側邊欄分類 &#x27;入班考講義&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/homepage/docs/category/演算法講義/"><span title="演算法講義" class="categoryLinkLabel_W154">演算法講義</span></a><button aria-label="展開側邊欄分類 &#x27;演算法講義&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/homepage/docs/category/網站維護手冊/"><span title="網站維護手冊" class="categoryLinkLabel_W154">網站維護手冊</span></a><button aria-label="展開側邊欄分類 &#x27;網站維護手冊&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/homepage/docs/category/歷屆講義/"><span title="歷屆講義" class="categoryLinkLabel_W154">歷屆講義</span></a><button aria-label="收起側邊欄分類 &#x27;歷屆講義&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/homepage/docs/category/第十四屆/"><span title="第十四屆" class="categoryLinkLabel_W154">第十四屆</span></a><button aria-label="收起側邊欄分類 &#x27;第十四屆&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/homepage/docs/category/第十四屆初階班/"><span title="第十四屆初階班" class="categoryLinkLabel_W154">第十四屆初階班</span></a><button aria-label="展開側邊欄分類 &#x27;第十四屆初階班&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/homepage/docs/category/第十四屆進階班/"><span title="第十四屆進階班" class="categoryLinkLabel_W154">第十四屆進階班</span></a><button aria-label="收起側邊欄分類 &#x27;第十四屆進階班&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/homepage/docs/講義/講義/上課講義/th/advanced_class/pre_contest/"><span title="二篩題解" class="linkLabel_WmDU">二篩題解</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/homepage/docs/講義/講義/上課講義/th/advanced_class/time_complexity/"><span title="時間複雜度" class="linkLabel_WmDU">時間複雜度</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/homepage/docs/講義/講義/上課講義/th/advanced_class/STL/"><span title="STL containers" class="linkLabel_WmDU">STL containers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/homepage/docs/講義/講義/上課講義/th/advanced_class/greedy/"><span title="Greedy 貪心演算法" class="linkLabel_WmDU">Greedy 貪心演算法</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/homepage/docs/講義/講義/上課講義/th/advanced_class/Monotonic/"><span title="單調性" class="linkLabel_WmDU">單調性</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/homepage/docs/講義/講義/上課講義/th/advanced_class/BST/"><span title="二元搜尋樹" class="linkLabel_WmDU">二元搜尋樹</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/homepage/docs/講義/講義/上課講義/th/advanced_class/6a-graph/"><span title="基本圖論" class="linkLabel_WmDU">基本圖論</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/homepage/docs/講義/講義/上課講義/th/advanced_class/6b-graph-ex/"><span title="以毒攻獨" class="linkLabel_WmDU">以毒攻獨</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/homepage/docs/講義/講義/上課講義/th/advanced_class/BFS/"><span title="BFS" class="linkLabel_WmDU">BFS</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/homepage/docs/講義/講義/上課講義/th/advanced_class/Segtree/"><span title="線段樹" class="linkLabel_WmDU">線段樹</span></a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/homepage/docs/category/第十三屆/"><span title="第十三屆" class="categoryLinkLabel_W154">第十三屆</span></a><button aria-label="展開側邊欄分類 &#x27;第十三屆&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/homepage/docs/category/第十二屆/"><span title="第十二屆" class="categoryLinkLabel_W154">第十二屆</span></a><button aria-label="展開側邊欄分類 &#x27;第十二屆&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/homepage/docs/category/第十一屆/"><span title="第十一屆" class="categoryLinkLabel_W154">第十一屆</span></a><button aria-label="展開側邊欄分類 &#x27;第十一屆&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/homepage/docs/category/第十屆/"><span title="第十屆" class="categoryLinkLabel_W154">第十屆</span></a><button aria-label="展開側邊欄分類 &#x27;第十屆&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/homepage/docs/category/第九屆/"><span title="第九屆" class="categoryLinkLabel_W154">第九屆</span></a><button aria-label="展開側邊欄分類 &#x27;第九屆&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/homepage/docs/講義/講義/上課簡報/test/"><span title="上課簡報" class="categoryLinkLabel_W154">上課簡報</span></a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="頁面路徑"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主頁面" class="breadcrumbs__link" href="/homepage/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/homepage/docs/category/講義/"><span>講義</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/homepage/docs/category/歷屆講義/"><span>歷屆講義</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/homepage/docs/category/第十四屆/"><span>第十四屆</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/homepage/docs/category/第十四屆進階班/"><span>第十四屆進階班</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">STL containers</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本頁導覽</button></div><div class="theme-doc-markdown markdown"><div style="margin-top:20px;margin-bottom:20px">No authors found.</div>
<header><h1>STL containers</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="前言">前言<a href="#前言" class="hash-link" aria-label="前言的直接連結" title="前言的直接連結" translate="no">​</a></h2>
<p><img decoding="async" loading="lazy" src="https://hackmd.io/_uploads/HkulQ_Esee.png" alt="image" class="img_ev3q"></p>
<p>歡迎各位來到進階班第一次聽我課<br>
<span class="spoiler">有人說我原本寫歡迎各位來到進階班很怪所以我這樣改了:0</span><br>
<span class="spoiler">他叫我改成konpeko，他好奇怪QQ</span><br>
<!-- -->相信來到這裡的各位肯定都對 <code>stl</code> 非常熟悉了對吧 吧 吧<br>
<!-- -->還不熟也沒有關係 這就是這堂課和這份講義誕生的意義<br>
<!-- -->帶大家在正式踏入演算法之前再複習一次 <code>stl</code> ，之後這些 <code>stl</code> 就會被當成背景不會多解釋了 希望各位都能在這裡對 <code>stl</code> 熟能生巧<!-- -->:D</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="vector">Vector<a href="#vector" class="hash-link" aria-label="Vector的直接連結" title="Vector的直接連結" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="標頭檔">標頭檔:<a href="#標頭檔" class="hash-link" aria-label="標頭檔:的直接連結" title="標頭檔:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;vector&gt;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="宣告">宣告:<a href="#宣告" class="hash-link" aria-label="宣告:的直接連結" title="宣告:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 最基本的宣告</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vector&lt;資料型態&gt; 名稱(大小);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 如果想先把東西丟進去的宣告</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vector&lt;資料型態&gt; 名稱{內容};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 空 vector，大小為 0 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vector&lt;int&gt; v;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 建立大小為 10 的 vector，只預開容量裡面沒東西</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vector&lt;int&gt; v(10); </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 建立大小為 10 的 vector，初始值全為 `-1`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vector&lt;int&gt; v(10, -1); </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 開一個內容為 {1, 2, 3} 的 vector，大小為 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vector&lt;int&gt; v = {1, 2, 3}; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 複製 v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vector&lt;int&gt; v2(v1);</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="vector-的樣子-">vector 的樣子 (?<a href="#vector-的樣子-" class="hash-link" aria-label="vector 的樣子 (?的直接連結" title="vector 的樣子 (?的直接連結" translate="no">​</a></h3>
<p>size 表示的是 vector 中的元素個數，capacity 則表示容量大小（就像上面可以先預開的容量）。</p>
<p><img decoding="async" loading="lazy" src="https://hackmd.io/_uploads/BJ0hC6kxlg.png" alt="image" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="常用函式">常用函式:<a href="#常用函式" class="hash-link" aria-label="常用函式:的直接連結" title="常用函式:的直接連結" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="push_back--pop_back"><code>push_back()</code> / <code>pop_back()</code><a href="#push_back--pop_back" class="hash-link" aria-label="push_back--pop_back的直接連結" title="push_back--pop_back的直接連結" translate="no">​</a></h4>
<p>顧名思義，<code>push_back()</code> 會把括號裡面的東西丟到 vector 後面。需要注意的是，放進去的東西要跟一開始設的資料型態一樣，而<code>pop_back()</code>就是把vector最後面的元素刪掉。</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vector&lt;int&gt; vec;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vec.push_back(1); // 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vec.push_back(2); // 1 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vec.push_back(3); // 1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vec.pop_back();   // 1 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vec.push_back(1); // 1 2 1</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_Gfwi alert alert--danger"><summary class="admonitionHeading_f1Ed"><span class="admonitionIcon_kpSf"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>?=spoiler在容量用完的時候 <code>push_back</code> 會發生什麼事？</summary><div class="admonitionContent_UjKb"><p>大部分情況下，capacity（容量）會變成兩倍，這麼做很顯然會有點浪費。所以如果今天解題的時候你很懶，全部用 <code>push_back</code> 沒有預開時，吃到 MLE（Memory Limit Exceeded），可以嘗試先預開。</p></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="size"><code>size()</code><a href="#size" class="hash-link" aria-label="size的直接連結" title="size的直接連結" translate="no">​</a></h4>
<p>取得目前 vector 的大小，也可以說是元素數量，常常用來遍歷 vector。</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vector&lt;int&gt; vec = {1, 2, 3, 4, 5};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; vec.size(); // 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 遍歷輸出 vector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for (int i = 0; i &lt; vec.size(); i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; vec[i] &lt;&lt; &#x27; &#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="empty"><code>empty()</code><a href="#empty" class="hash-link" aria-label="empty的直接連結" title="empty的直接連結" translate="no">​</a></h4>
<p>用來檢測這個 vector 是不是完全空了。是的話會回傳 <code>true</code>，注意這裡指的空是「完全沒東西」，也可以說是 <code>size() = 0</code>。</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vector&lt;int&gt; vec = {0};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; vec.empty(); // 0 (false) 有東西</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vec.pop_back(); // 沒東西了</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; vec.empty(); // 1 (true) 沒東西</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="resize"><code>resize()</code><a href="#resize" class="hash-link" aria-label="resize的直接連結" title="resize的直接連結" translate="no">​</a></h4>
<p>可以直接指定</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vector&lt;int&gt; vec = {1, 1, 4, 5, 1, 4};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vec.resize();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; vec.empty(); // 1 (true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; vec.size();  // 0</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="erase"><code>erase()</code><a href="#erase" class="hash-link" aria-label="erase的直接連結" title="erase的直接連結" translate="no">​</a></h4>
<p>刪除指定 iterator 的元素，iterator要解釋可能有點複雜，在這裡知道要先寫個begin給他定位到你指定的vector的頭就好，要砍後面的元素就往後加。</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vector&lt;int&gt; v = {1, 2, 3, 4, 5};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">v.erase(v.begin() + 2); // 刪除第三個元素</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="其他函式有更多但真的很少用">其他函式（有更多但真的很少用）<a href="#其他函式有更多但真的很少用" class="hash-link" aria-label="其他函式（有更多但真的很少用）的直接連結" title="其他函式（有更多但真的很少用）的直接連結" translate="no">​</a></h3>
<ul>
<li class=""><strong><code>resize()</code></strong><br>
<!-- -->重設容器的大小，這裡指的是 <code>size()</code>，如果原本大小超過，會把多的刪掉。</li>
<li class=""><strong><code>front()</code></strong><br>
<!-- -->存取第一個元素。</li>
<li class=""><strong><code>back()</code></strong><br>
<!-- -->存取最後一個元素。</li>
<li class=""><strong><code>data()</code></strong><br>
<!-- -->存取第一項元素的指標。</li>
<li class=""><strong><code>assign()</code></strong><br>
<!-- -->分配容器新的內容替換當前內容，並修改大小。</li>
<li class=""><strong><code>insert()</code></strong><br>
<!-- -->插入元素。</li>
<li class=""><strong><code>swap()</code></strong><br>
<!-- -->交換兩個容器。</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="題目練習">題目練習:<a href="#題目練習" class="hash-link" aria-label="題目練習:的直接連結" title="題目練習:的直接連結" translate="no">​</a></h4>
<p>a864 記得vector裡面也可以擺string應該就行</p>
<hr>
<div class="theme-admonition theme-admonition-spoiler admonition_Gfwi alert alert--secondary"><summary class="admonitionHeading_f1Ed"><span class="admonitionIcon_kpSf"></span>原始碼</summary><div class="admonitionContent_UjKb"><details><div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 這只是示意</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template&lt;class T&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class my_vector{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T* buf;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    size_t sz;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    size_t cap;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void grow(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        size_t ncap = cap ? cap * 2 : 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        T* nb = new T[ncap];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for(size_t i=0;i&lt;sz;i++) nb[i] = buf[i];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        delete[] buf;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        buf = nb;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cap = ncap;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    my_vector(): buf(nullptr), sz(0), cap(0){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ~my_vector(){ delete[] buf; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void push_back(const T&amp; v){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(sz == cap) grow();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        buf[sz++] = v;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void pop_back(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(sz) sz--;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T&amp; operator[](size_t i){ return buf[i]; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const T&amp; operator[](size_t i) const{ return buf[i]; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    size_t size() const{ return sz; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    size_t capacity() const{ return cap; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool empty() const{ return sz==0; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void clear(){ sz = 0; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div></details></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="pair">Pair<a href="#pair" class="hash-link" aria-label="Pair的直接連結" title="Pair的直接連結" translate="no">​</a></h2>
<p><code>pair</code> 顧名思義，一雙東西，基本上就是把兩個資料綁在一起，分成 <code>first</code> 跟 <code>second</code> 兩格，解題的時候很常用，尤其在題目要求把東西綁在一起的時候(ex:貪心經典的入場出場時間)</p>
<ul>
<li class="">常常拿來表示 <code>(x, y)</code>、<code>(value, index)</code>、<code>(距離, 節點)</code></li>
<li class=""><code>priority_queue</code> / <code>set</code> / <code>map</code> 這些等等會提到容器底層邏輯也跟 <code>pair</code> 一樣，只是更多功能</li>
<li class="">想一次回傳兩個值也可以直接回傳一個 <code>pair</code></li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="標頭檔-1">標頭檔:<a href="#標頭檔-1" class="hash-link" aria-label="標頭檔:的直接連結" title="標頭檔:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;utility&gt;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="宣告-1">宣告:<a href="#宣告-1" class="hash-link" aria-label="宣告:的直接連結" title="宣告:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 最常見寫法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pair&lt;int, int&gt; p;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 宣告的時候直接定義</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pair&lt;int, int&gt; p2(3, 7);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pair&lt;string, int&gt; p3(&quot;pekora&quot;, 3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 初始化列表</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pair&lt;int, string&gt; p4{0, &quot;miko&quot;};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// make_pair（可以直接幫你判斷該用甚麼資料型態，不用特別打）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto p5 = make_pair(114, 514);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// C++17 比較聰明可以這樣搞</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pair p6(1, 2.5); // -&gt; pair&lt;int, double&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 複製 / 指派</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pair&lt;int,int&gt; a = {1, 2};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pair&lt;int,int&gt; b = a;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b = {9, 9};</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="存取--交換">存取 &amp; 交換<a href="#存取--交換" class="hash-link" aria-label="存取 &amp; 交換的直接連結" title="存取 &amp; 交換的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; p3.first &lt;&lt; &#x27; &#x27; &lt;&lt; p3.second &lt;&lt; &#x27;\n&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">swap(p2, a); // 會把 a 跟 p2 裡的東西交換</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="比大小內建字典序">比大小（內建字典序）<a href="#比大小內建字典序" class="hash-link" aria-label="比大小（內建字典序）的直接連結" title="比大小（內建字典序）的直接連結" translate="no">​</a></h3>
<p>會優先比 <code>first</code>，然後才比 <code>second</code>。
(這特性在某些題目會是解題關鍵:0)</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pair&lt;int,int&gt; A{1, 9}, B{1, 3}, C{2, 0};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; (A &lt; B) &lt;&lt; &#x27;\n&#x27;; // 0 (因為 9 &lt; 3 不成立)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; (B &lt; C) &lt;&lt; &#x27;\n&#x27;; // 1 (1 &lt; 2)</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tie--ignore拆開用">tie / ignore（拆開用）<a href="#tie--ignore拆開用" class="hash-link" aria-label="tie / ignore（拆開用）的直接連結" title="tie / ignore（拆開用）的直接連結" translate="no">​</a></h3>
<p>老實說我這輩子沒這樣寫過，但看起來很酷就編進來了</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pair&lt;int,string&gt; yaj{114514, &quot;u&amp;u&quot;};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int x; string s;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tie(x, s) = yaj; // x = 114514, s = &quot;u&amp;u&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 只想拿 second</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tie(ignore, s) = yaj;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="跟其他容器一起用">跟其他容器一起用<a href="#跟其他容器一起用" class="hash-link" aria-label="跟其他容器一起用的直接連結" title="跟其他容器一起用的直接連結" translate="no">​</a></h3>
<p>最常見的用法</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vector&lt;pair&lt;int,int&gt;&gt; homo;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">homo.push_back({11, 45});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">homo.push_back({1, 4});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sort(homo.begin(), homo.end()); // 前面有提到，這裡會先依 first 排序再排second</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="什麼時候不該用-pair">什麼時候不該用 pair？<a href="#什麼時候不該用-pair" class="hash-link" aria-label="什麼時候不該用 pair？的直接連結" title="什麼時候不該用 pair？的直接連結" translate="no">​</a></h3>
<p>你發現會有一坨 <code>pair</code> 的時候，建議換成寫 <code>struct</code> 在競程你的隊友會感謝你的
(雖然我是屬於狂寫 pair 那派<!-- -->:D<!-- -->)</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="題目練習-1">題目練習:<a href="#題目練習-1" class="hash-link" aria-label="題目練習:的直接連結" title="題目練習:的直接連結" translate="no">​</a></h3>
<p>我找不到純pair的題目所以:</p>
<hr>
<div class="theme-admonition theme-admonition-spoiler admonition_Gfwi alert alert--secondary"><summary class="admonitionHeading_f1Ed"><span class="admonitionIcon_kpSf"></span>pair 原始碼</summary><div class="admonitionContent_UjKb"><details><div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">template&lt;class T1, class T2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">struct my_pair{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T1 first;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T2 second;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    my_pair(): first(), second() {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    my_pair(const T1&amp; a, const T2&amp; b): first(a), second(b) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template&lt;class T1, class T2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my_pair&lt;T1,T2&gt; my_make_pair(T1 a, T2 b){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return my_pair&lt;T1,T2&gt;(a, b);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template&lt;class T1, class T2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bool operator&lt;(const my_pair&lt;T1,T2&gt;&amp; A, const my_pair&lt;T1,T2&gt;&amp; B){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (A.first &lt; B.first) return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (B.first &lt; A.first) return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return A.second &lt; B.second;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div></details></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="struct">Struct<a href="#struct" class="hash-link" aria-label="Struct的直接連結" title="Struct的直接連結" translate="no">​</a></h2>
<p>剛剛在 <code>pair</code> 有提到 <code>struct</code> 這裡簡單介紹一下
C++ 的 <code>struct</code> 是一種用來打包多個資料（欄位）的自訂型別，最常拿來表示一個物件或一組有關聯的資料，比如點座標、學生資料等。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="範例">範例<a href="#範例" class="hash-link" aria-label="範例的直接連結" title="範例的直接連結" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Point</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Point p</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>可以理解成自己弄出了一個沒什麼功能的資料型態，優點是在很多資料要存的時候比較直觀，或是在上面提到會用到很多 <code>pair</code> 時改用 <code>struct</code> 會更好讀程式也比較清楚。</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="set--multiset--unordered_set">Set / Multiset / Unordered_set<a href="#set--multiset--unordered_set" class="hash-link" aria-label="Set / Multiset / Unordered_set的直接連結" title="Set / Multiset / Unordered_set的直接連結" translate="no">​</a></h2>
<p>差不多的東西編在一起
大概差這樣:</p>
<ul>
<li class=""><code>set</code>：不重複 + 排序</li>
<li class=""><code>multiset</code>：可重複 + 排序</li>
<li class=""><code>unordered_set</code>：不排序，用 hash（平均 O(1)，最壞 O(n)）</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="什麼時候選誰">什麼時候選誰<a href="#什麼時候選誰" class="hash-link" aria-label="什麼時候選誰的直接連結" title="什麼時候選誰的直接連結" translate="no">​</a></h3>
<table><thead><tr><th>想做的事</th><th>用誰</th></tr></thead><tbody><tr><td>去重 + 排序</td><td>set</td></tr><tr><td>需要重複值</td><td>multiset</td></tr><tr><td>只問在不在</td><td>unordered_set</td></tr><tr><td>需要 lower_bound / upper_bound</td><td>set / multiset</td></tr><tr><td>會一直插入刪除</td><td>set</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="標頭檔-2">標頭檔:<a href="#標頭檔-2" class="hash-link" aria-label="標頭檔:的直接連結" title="標頭檔:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;set&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;unordered_set&gt;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="宣告-2">宣告:<a href="#宣告-2" class="hash-link" aria-label="宣告:的直接連結" title="宣告:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">set&lt;int&gt; st;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">multiset&lt;int&gt; ms;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unordered_set&lt;int&gt; us;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set&lt;int&gt; st2 = {5, 1, 5, 2}; // -&gt; {1, 2, 5} 自動去重 &amp; 排序</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set&lt;int&gt; st3(st2);           // 複製</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="插入">插入:<a href="#插入" class="hash-link" aria-label="插入:的直接連結" title="插入:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">st.insert(10); // 裡面只有 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">st.insert(3); // 因為set會自動排序所以裡面現在是 3, 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">st.insert(3); // 去重，還是只有 3, 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ms.insert(5);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ms.insert(5); // mutiset不去重，裡面是 5, 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">us.insert(7);</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="查找--判斷存在">查找 / 判斷存在:<a href="#查找--判斷存在" class="hash-link" aria-label="查找 / 判斷存在:的直接連結" title="查找 / 判斷存在:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (st.count(3)) // 有 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto it = st.find(10); // O(log n)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (it != st.end()) cout &lt;&lt; *it;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (ms.count(5) &gt;= 2) // 至少兩個 5 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (us.find(7) != us.end()) // 平均 O(1)</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="刪除">刪除:<a href="#刪除" class="hash-link" aria-label="刪除:的直接連結" title="刪除:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// set / unordered_set 直接 erase(key)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">st.erase(3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// multiset erase(key) 會砍掉全部該值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ms.erase(5);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 想只砍一個</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto it2 = ms.find(5);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (it2 != ms.end()) ms.erase(it2);</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="遍歷-有序的才會排序">遍歷 (有序的才會排序):<a href="#遍歷-有序的才會排序" class="hash-link" aria-label="遍歷 (有序的才會排序):的直接連結" title="遍歷 (有序的才會排序):的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">for (auto x : st) cout &lt;&lt; x &lt;&lt; &#x27; &#x27;;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="lower_bound--upper_bound只有-set--multiset-有">lower_bound / upper_bound（只有 set / multiset 有）<a href="#lower_bound--upper_bound只有-set--multiset-有" class="hash-link" aria-label="lower_bound / upper_bound（只有 set / multiset 有）的直接連結" title="lower_bound / upper_bound（只有 set / multiset 有）的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">auto itl = st.lower_bound(5); // 第一個 &gt;= 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto itu = st.upper_bound(5); // 第一個 &gt; 5</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="自訂排序set-才能搞">自訂排序（set 才能搞）<a href="#自訂排序set-才能搞" class="hash-link" aria-label="自訂排序（set 才能搞）的直接連結" title="自訂排序（set 才能搞）的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct Node{ int x, y; };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">struct Cmp{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool operator()(const Node&amp; a, const Node&amp; b) const{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (a.x != b.x) return a.x &lt; b.x;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return a.y &gt; b.y; // x 一樣時 y 大的排前面</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set&lt;Node, Cmp&gt; S;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="複雜度">複雜度<a href="#複雜度" class="hash-link" aria-label="複雜度的直接連結" title="複雜度的直接連結" translate="no">​</a></h3>
<ul>
<li class="">set / multiset：插、刪、找 → O(log n)</li>
<li class="">unordered_set：平均 O(1)（爆掉時 O(n)）</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="注意">注意<a href="#注意" class="hash-link" aria-label="注意的直接連結" title="注意的直接連結" translate="no">​</a></h3>
<ul>
<li class=""><code>unordered_set</code> 沒有 <code>lower_bound</code>。</li>
<li class="">想找第 k 小只用別的資料型態。</li>
<li class=""><code>erase(it)</code> 只刪那個，<code>erase(key)</code> multiset 會全刪。</li>
<li class="">插入不會讓 set 其他 iterator 爆炸（除非你刪那個）。</li>
<li class=""><code>unordered_set</code> 順序亂的，基本上就是在賭博</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="題目練習-2">題目練習:<a href="#題目練習-2" class="hash-link" aria-label="題目練習:的直接連結" title="題目練習:的直接連結" translate="no">​</a></h3>
<div class="theme-admonition theme-admonition-spoiler admonition_Gfwi alert alert--secondary"><summary class="admonitionHeading_f1Ed"><span class="admonitionIcon_kpSf"></span>set 原始碼</summary><div class="admonitionContent_UjKb"><details><div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 紅黑樹節點</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template&lt;class T&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">struct RBNode{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T val;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool red;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RBNode *l, *r, *p;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// set</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template&lt;class Key, class Compare = std::less&lt;Key&gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class my_set{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RBNode&lt;Key&gt;* root = nullptr;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Compare comp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool contains(const Key&amp; k) const{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto cur = root;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while(cur){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (comp(k, cur-&gt;val)) cur = cur-&gt;l;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else if (comp(cur-&gt;val, k)) cur = cur-&gt;r;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool insert(const Key&amp; k){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 1. 當 BST 插</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 2. 修正顏色 + 旋轉</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 簡化 hash set</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template&lt;class Key, class Hash = std::hash&lt;Key&gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class my_unordered_set{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    struct Node{ Key key; Node* next; };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vector&lt;Node*&gt; bucket;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    size_t sz;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void rehash(){ /* 省略 */ }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    my_unordered_set(): bucket(8,nullptr), sz(0) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool insert(const Key&amp; k){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (sz &gt; bucket.size() * 0.75) rehash();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        size_t h = Hash{}(k) % bucket.size();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Node* cur = bucket[h];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while(cur){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (cur-&gt;key == k) return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cur = cur-&gt;next;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bucket[h] = new Node{k, bucket[h]};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ++sz;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div></details></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="map--unordered_map">Map / Unordered_map<a href="#map--unordered_map" class="hash-link" aria-label="Map / Unordered_map的直接連結" title="Map / Unordered_map的直接連結" translate="no">​</a></h2>
<p>很香，超級香</p>
<ul>
<li class=""><code>map</code>：有序（key 會幫你排好）</li>
<li class=""><code>unordered_map</code>：hash，平均快，順序亂<br>
<!-- -->用途：很多，甚麼類型的題目都可能出現，反正很香，真的，相信我</li>
</ul>
<p>基本上可以想像成一本書， <code>key</code> 代表的是頁碼， <code>value</code> 代表的是那一頁的內容
然後 <code>key</code> 跟 <code>value</code> 可以是任何東西
可以是一個字串 &quot;peko&quot;，也可以是114514維陣列
(因為真的很香所以多講一下)</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="標頭檔-3">標頭檔:<a href="#標頭檔-3" class="hash-link" aria-label="標頭檔:的直接連結" title="標頭檔:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;map&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;unordered_map&gt;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="宣告-3">宣告:<a href="#宣告-3" class="hash-link" aria-label="宣告:的直接連結" title="宣告:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">map&lt;string,int&gt; mp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unordered_map&lt;int,long long&gt; ump;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 設成 {1,10},{2,20},{3,30} 結構可以理解成陣列包 pair，而這個 pair 的 first 就是 key，second 就是 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">map&lt;int,int&gt; mp2 = {{1,10},{3,30},{2,20}};</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="插入--指派">插入 / 指派:<a href="#插入--指派" class="hash-link" aria-label="插入 / 指派:的直接連結" title="插入 / 指派:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mp[&quot;peko&quot;] = 3;   // 不存在會新建 key，值從 0 變 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mp[&quot;peko&quot;] += 4;  // 7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mp.insert({&quot;miko&quot;, 0});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mp.insert(make_pair(&quot;subaru&quot;, 2));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ump[114514] = 1919810;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="查找">查找:<a href="#查找" class="hash-link" aria-label="查找:的直接連結" title="查找:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; mp[&quot;hi&quot;]; // 如果 key 不存在，會建一個值=0 的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (mp.count(&quot;miko&quot;)) // 有存在 miko 的話回傳 true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto it = mp.find(&quot;maimai&quot;); // 在 map 中查找 key &quot;maimai&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (it != mp.end()) cout &lt;&lt; it-&gt;second; // 找到就輸出對應 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto it2 = ump.find(42); // 在 unordered_map 中查找 key 42</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (it2 != ump.end()) cout &lt;&lt; it2-&gt;second; // 找到就輸出對應 value</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="遍歷">遍歷:<a href="#遍歷" class="hash-link" aria-label="遍歷:的直接連結" title="遍歷:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">for (auto &amp;x : mp){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; x.first &lt;&lt; &quot; =&gt; &quot; &lt;&lt; x.second &lt;&lt; &#x27;\n&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="刪除-1">刪除:<a href="#刪除-1" class="hash-link" aria-label="刪除:的直接連結" title="刪除:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mp.erase(&quot;gura&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto it3 = mp.find(&quot;ame&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (it3 != mp.end()) mp.erase(it3); // 沒找到就刪了</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="lower_bound--upper_bound只有-map-有">lower_bound / upper_bound（只有 map 有）<a href="#lower_bound--upper_bound只有-map-有" class="hash-link" aria-label="lower_bound / upper_bound（只有 map 有）的直接連結" title="lower_bound / upper_bound（只有 map 有）的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">auto itl = mp.lower_bound(&quot;ryandic&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (itl != mp.end()) cout &lt;&lt; itl-&gt;first;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="unordered_map-放自訂型別">unordered_map 放自訂型別:<a href="#unordered_map-放自訂型別" class="hash-link" aria-label="unordered_map 放自訂型別:的直接連結" title="unordered_map 放自訂型別:的直接連結" translate="no">​</a></h3>
<p>放好玩的</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct Node{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int x, y;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool operator==(const Node&amp; o) const { return x==o.x &amp;&amp; y==o.y; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">struct NodeHash {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    size_t operator()(const Node&amp; n) const{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        size_t h1 = std::hash&lt;int&gt;{}(n.x);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        size_t h2 = std::hash&lt;int&gt;{}(n.y);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return h1 ^ (h2 + 0x9e3779b97f4a7c15ULL + (h1&lt;&lt;6) + (h1&gt;&gt;2));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unordered_map&lt;Node,int,NodeHash&gt; M;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="計數">計數<a href="#計數" class="hash-link" aria-label="計數的直接連結" title="計數的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">string s = &quot;sakura&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">map&lt;char,int&gt; freq;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for (char c : s) freq[c]++; // 有出現過那個字就加</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for (auto &amp;x : freq){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; x.first &lt;&lt; &#x27; &#x27; &lt;&lt; x.second &lt;&lt; &#x27;\n&#x27;; // 印出每個字母跟他出現次數</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="避免誤建">避免誤建<a href="#避免誤建" class="hash-link" aria-label="避免誤建的直接連結" title="避免誤建的直接連結" translate="no">​</a></h3>
<p>好其實我也沒用過，但一樣我看到了</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">auto itx = mp.find(&quot;xxx&quot;); // 找 key &quot;xxx&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (itx != mp.end()) cout &lt;&lt; itx-&gt;second; // 有就印值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else cout &lt;&lt; &quot;not found\n&quot;; // 沒有就說沒有</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="安全刪迭代">安全刪迭代<a href="#安全刪迭代" class="hash-link" aria-label="安全刪迭代的直接連結" title="安全刪迭代的直接連結" translate="no">​</a></h3>
<p>好其實這我也沒用過，但一樣我看到了</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">for (auto it = mp.begin(); it != mp.end(); ){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (/* 想刪 */) it = mp.erase(it); // C++11 回傳下一個</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else ++it;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="map-vs-unordered_map-怎麼選">map vs unordered_map 怎麼選<a href="#map-vs-unordered_map-怎麼選" class="hash-link" aria-label="map vs unordered_map 怎麼選的直接連結" title="map vs unordered_map 怎麼選的直接連結" translate="no">​</a></h3>
<table><thead><tr><th>情況</th><th>推薦</th></tr></thead><tbody><tr><td>要排序輸出</td><td>map</td></tr><tr><td>只在乎存在 / 次數</td><td>unordered_map</td></tr><tr><td>要 lower_bound</td><td>map</td></tr><tr><td>key 很多又要一直插入刪除</td><td>unordered_map</td></tr><tr><td>想輸出穩定順序</td><td>map</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="注意-1">注意<a href="#注意-1" class="hash-link" aria-label="注意的直接連結" title="注意的直接連結" translate="no">​</a></h3>
<ul>
<li class=""><code>mp[key]</code> 會強制建 → 只檢查用 <code>find</code>。</li>
<li class=""><code>map</code> 裡 <code>pair</code> 的 <code>first</code> 是 <code>const</code>，不能改 key。</li>
<li class="">unordered_map 遇到 hash 爛資料可能會炸。</li>
<li class="">unordered_map 常數很大慎用，跟unordered_set一樣算是在賭博。</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="題目練習-3">題目練習:<a href="#題目練習-3" class="hash-link" aria-label="題目練習:的直接連結" title="題目練習:的直接連結" translate="no">​</a></h3>
<p>a890(我知道他寫初階班，但我找不到更好的基礎 <code>map</code> 題了)
覺得太簡單的可以去寫進階的卡堆:0</p>
<hr>
<div class="theme-admonition theme-admonition-spoiler admonition_Gfwi alert alert--secondary"><summary class="admonitionHeading_f1Ed"><span class="admonitionIcon_kpSf"></span>map 原始碼</summary><div class="admonitionContent_UjKb"><details><div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// map 紅黑樹節點</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template&lt;class Key, class T&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">struct RBNode{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    std::pair&lt;const Key, T&gt; kv;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool red;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RBNode *l, *r, *p;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 精簡版(因為我爛)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template&lt;class Key, class T, class Compare = std::less&lt;Key&gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class my_map{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RBNode&lt;Key,T&gt;* root = nullptr;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Compare comp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T&amp; operator[](const Key&amp; k){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 找不到時理論上要插入，但我懶</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        static T temp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return temp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RBNode&lt;Key,T&gt;* find_node(const Key&amp; k) const{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto cur = root;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while(cur){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (comp(k, cur-&gt;kv.first)) cur = cur-&gt;l;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else if (comp(cur-&gt;kv.first, k)) cur = cur-&gt;r;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else return cur;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return nullptr;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// unordered_map</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template&lt;class Key, class T, class Hash = std::hash&lt;Key&gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class my_unordered_map{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    struct Node{ Key k; T v; Node* next; };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vector&lt;Node*&gt; bucket;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    size_t sz;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void rehash(){ /* 省略 */ }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    my_unordered_map(): bucket(8,nullptr), sz(0) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T&amp; operator[](const Key&amp; k){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (sz &gt; bucket.size()*0.75) rehash();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        size_t h = Hash{}(k) % bucket.size();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Node* cur = bucket[h];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while(cur){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (cur-&gt;k == k) return cur-&gt;v;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cur = cur-&gt;next;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Node* nn = new Node{k, T(), bucket[h]};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bucket[h] = nn;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ++sz;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return nn-&gt;v;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div></details></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="stack">Stack<a href="#stack" class="hash-link" aria-label="Stack的直接連結" title="Stack的直接連結" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="標頭檔-4">標頭檔:<a href="#標頭檔-4" class="hash-link" aria-label="標頭檔:的直接連結" title="標頭檔:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include&lt;stack&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="宣告-4">宣告:<a href="#宣告-4" class="hash-link" aria-label="宣告:的直接連結" title="宣告:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//最基本的宣告</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stack&lt;資料型態&gt; 名稱;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//空 stack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stack&lt;int&gt; s;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="stack-的特性">stack 的特性<a href="#stack-的特性" class="hash-link" aria-label="stack 的特性的直接連結" title="stack 的特性的直接連結" translate="no">​</a></h3>
<p>Stack 是一種後進先出（LIFO, Last In First Out）的神奇容器，可以想像成一個酷酷的容器(如圖)，每個資料都是盤子，慢慢堆起來，但很顯然這個容器只有一個開口，無論要做甚麼操作都只能對最上面做，所有的操作都只能對最上層的元素進行，這是 Stack 的限制也是特色。
<img decoding="async" loading="lazy" src="https://hackmd.io/_uploads/r1dmTJleeg.png" alt="image" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="常用函式-1">常用函式:<a href="#常用函式-1" class="hash-link" aria-label="常用函式:的直接連結" title="常用函式:的直接連結" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="pushpop">push()/pop()<a href="#pushpop" class="hash-link" aria-label="push()/pop()的直接連結" title="push()/pop()的直接連結" translate="no">​</a></h4>
<p><code>push()</code> 會將元素放到堆疊頂端，而 <code>pop()</code> 會移除堆疊頂端的元素。</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stack&lt;int&gt; s;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s.push(1); // 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s.push(2); // 1 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s.push(3); // 1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s.pop();   // 1 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s.push(4); // 1 2 4</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="top">top()<a href="#top" class="hash-link" aria-label="top()的直接連結" title="top()的直接連結" translate="no">​</a></h4>
<p><code>top()</code> 用來取得堆疊頂端的元素，但不會移除該元素。</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stack&lt;int&gt; s;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s.push(10);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s.push(20);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; s.top(); // 20</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="empty-1">empty()<a href="#empty-1" class="hash-link" aria-label="empty()的直接連結" title="empty()的直接連結" translate="no">​</a></h4>
<p><code>empty()</code> 用來檢查堆疊是否為空，若為空則回傳 <code>true</code>，否則回傳 <code>false</code>。</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stack&lt;int&gt; s;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; s.empty(); // 1 (true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s.push(5);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; s.empty(); // 0 (false)</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="size-1">size()<a href="#size-1" class="hash-link" aria-label="size()的直接連結" title="size()的直接連結" translate="no">​</a></h4>
<p><code>size()</code> 用來取得堆疊中目前的元素數量。</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stack&lt;int&gt; s;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s.push(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s.push(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s.push(3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; s.size(); // 3</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="其他函式">其他函式<a href="#其他函式" class="hash-link" aria-label="其他函式的直接連結" title="其他函式的直接連結" translate="no">​</a></h4>
<ul>
<li class=""><code>emplace</code>：原地建構物件並加入堆疊頂端（會比<code>push</code>更好一點，但不會差太多，反正我都用<code>push</code>）。</li>
<li class=""><code>swap</code>：交換兩個堆疊的內容。</li>
</ul>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 使用 swap 範例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stack&lt;int&gt; s1, s2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s1.push(1); s1.push(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s2.push(3); s2.push(4);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s1.swap(s2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// s1 現在為 3, 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// s2 現在為 1, 2</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="然後呢">然後呢?<a href="#然後呢" class="hash-link" aria-label="然後呢?的直接連結" title="然後呢?的直接連結" translate="no">​</a></h3>
<p>看到這裡你可能會疑惑，不是有個vector很好用了嗎，為什麼我要用這個只能動頂端的怪容器??
答案很簡單
總會有題目是專門來搞人的
像是這題 a204
基本上不用stack很難解
看完題目後感覺一頭霧水的話沒關係
這裡會慢慢的教怎麼用stack去處理題目中的括號問題
但應該不會完整教完，涉及到一點別的技巧
(然後這題不一定真的要拿到AC，懂怎麼用stack實作就好)
<img decoding="async" loading="lazy" src="https://hackmd.io/_uploads/Hy4WFUxxxx.png" alt="image" class="img_ev3q"></p>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="解題步驟">解題步驟<a href="#解題步驟" class="hash-link" aria-label="解題步驟的直接連結" title="解題步驟的直接連結" translate="no">​</a></h4>
<p>遍歷字串：</p>
<p>如果遇到左括號（(, [, {），將其推入堆疊，並記錄它的位置。
如果遇到右括號（), ], }）：
就再看如果堆疊為空，說明右括號多餘，直接輸出 No 並附上當前位置。
堆疊有東西的話從堆疊頂部取出對應的左括號，檢查是否匹配：
如果匹配：繼續處理下一個字元。
如果不匹配：輸出 No 並附上當前位置。
檢查堆疊是否為空：</p>
<p>如果遍歷結束後，堆疊中還有多的左括號，就代表左括號多餘，輸出 No 並附上堆疊頂部括號的位置。
輸出結果：</p>
<p>如果字串完全匹配，輸出 Yes。</p>
<hr>
<p>希望在解這題的過程中可以讓大家體會到stack的魅力所在，也可以意識到它的存在是有意義的(不然上面那題要用vector硬寫會痛苦死，而且八成會吃tle)，有興趣的學員也可以嘗試慢慢把這題解出來</p>
<p>stack也當然不只適用在括號，更難的還有深度優先搜尋（DFS, Depth First Search）,單調棧（Monotonic Stack）之類的神奇演算法適用</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="題目練習-4">題目練習<a href="#題目練習-4" class="hash-link" aria-label="題目練習的直接連結" title="題目練習的直接連結" translate="no">​</a></h3>
<p>b281 跟上面的 a204
b281先來這裡<a href="https://tioj.sprout.tw/problems/35" target="_blank" rel="noopener noreferrer" class="">https://tioj.sprout.tw/problems/35</a></p>
<hr>
<div class="theme-admonition theme-admonition-spoiler admonition_Gfwi alert alert--secondary"><summary class="admonitionHeading_f1Ed"><span class="admonitionIcon_kpSf"></span>原始碼</summary><div class="admonitionContent_UjKb"><details><div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">template&lt;class T&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class my_stack{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    std::vector&lt;T&gt; a;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void push(const T&amp; v){ a.push_back(v); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void pop(){ if(!a.empty()) a.pop_back(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T&amp; top(){ return a.back(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const T&amp; top() const{ return a.back(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool empty() const{ return a.empty(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    size_t size() const{ return a.size(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div></details></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="queue--deque">Queue / Deque<a href="#queue--deque" class="hash-link" aria-label="Queue / Deque的直接連結" title="Queue / Deque的直接連結" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="標頭檔-5">標頭檔:<a href="#標頭檔-5" class="hash-link" aria-label="標頭檔:的直接連結" title="標頭檔:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;queue&gt;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="宣告-5">宣告:<a href="#宣告-5" class="hash-link" aria-label="宣告:的直接連結" title="宣告:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 最基本的宣告</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">queue&lt;資料型態&gt; 名稱;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 空 queue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">queue&lt;int&gt; q;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 複製 q1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">queue&lt;int&gt; q2(q1);</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="queue-長啥樣">queue 長啥樣<a href="#queue-長啥樣" class="hash-link" aria-label="queue 長啥樣的直接連結" title="queue 長啥樣的直接連結" translate="no">​</a></h3>
<p>queue 是一種先進先出的資料結構（FIFO, First In First Out），就像排隊一樣，先進來的會先出去。
<img decoding="async" loading="lazy" src="https://hackmd.io/_uploads/Hkjgleeleg.png" alt="image" class="img_ev3q">
白話點就要刪只能刪前面，要加只能加後面</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="常用函式-2">常用函式:<a href="#常用函式-2" class="hash-link" aria-label="常用函式:的直接連結" title="常用函式:的直接連結" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="push--pop"><code>push()</code> / <code>pop()</code><a href="#push--pop" class="hash-link" aria-label="push--pop的直接連結" title="push--pop的直接連結" translate="no">​</a></h4>
<p><code>push()</code> 會把括號裡面的東西放到 queue 的尾端，而 <code>pop()</code> 則會把 queue 的前端元素移除。就跟前面提到的基本上一樣。</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">queue&lt;int&gt; q;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.push(1); // 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.push(2); // 1 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.push(3); // 1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.pop();   // 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.push(4); // 2 3 4</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="front--back"><code>front()</code> / <code>back()</code><a href="#front--back" class="hash-link" aria-label="front--back的直接連結" title="front--back的直接連結" translate="no">​</a></h4>
<p>顧名思義<code>front()</code> 用來存queue 中的第一個元素，而 <code>back()</code> 用來存最後一個元素。</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">queue&lt;int&gt; q;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.push(11);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.push(45);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.push(14);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; q.front(); // 11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; q.back();  // 14</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="size-2"><code>size()</code><a href="#size-2" class="hash-link" aria-label="size-2的直接連結" title="size-2的直接連結" translate="no">​</a></h4>
<p>取得目前 queue 的大小，也就是其中的元素數量。</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">queue&lt;int&gt; q;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.push(1919);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.push(114514);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.push(780);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; q.size(); // 3</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="empty-2"><code>empty()</code><a href="#empty-2" class="hash-link" aria-label="empty-2的直接連結" title="empty-2的直接連結" translate="no">​</a></h4>
<p>檢查 queue 是否為空。如果 queue 是空的，會回傳 <code>true</code>，否則會回傳 <code>false</code>。</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">queue&lt;int&gt; q;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; q.empty(); // 1 (true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.push(22);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; q.empty(); // 0 (false)</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="swap"><code>swap()</code><a href="#swap" class="hash-link" aria-label="swap的直接連結" title="swap的直接連結" translate="no">​</a></h4>
<p>用於交換兩個 queue 的內容。</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">queue&lt;int&gt; q1, q2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q1.push(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q1.push(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q2.push(3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q2.push(4);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q1.swap(q2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// q1: 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// q2: 1 2</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="然後呢-1">然後呢?<a href="#然後呢-1" class="hash-link" aria-label="然後呢?的直接連結" title="然後呢?的直接連結" translate="no">​</a></h3>
<p>相信聰明的各位在看完stack和前面的講解後，可以猜到queue的最常見題型
沒錯! 就是排隊問題
不過我找不到難度適合的題目
這裡會拿a979來講一下
雖然他好像說這題不是queue:
會跟stack一樣一步一步慢慢看要怎麼解
真的有興趣想練習可以說一下我可以出一題
然後想練習的可以到隔壁zerojudge寫e447</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="需要注意的小地方">需要注意的小地方<a href="#需要注意的小地方" class="hash-link" aria-label="需要注意的小地方的直接連結" title="需要注意的小地方的直接連結" translate="no">​</a></h3>
<p>在用queue想pop的時候，記得要先判一下queue裡面有沒有東西，假如裡面沒東西你硬pop的話會導致程式壞掉</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="deque">deque<a href="#deque" class="hash-link" aria-label="deque的直接連結" title="deque的直接連結" translate="no">​</a></h3>
<p>如果需要同時操作頭尾，可以考慮使用 <code>deque</code>。
<img decoding="async" loading="lazy" src="https://hackmd.io/_uploads/Bkn0Leggee.png" alt="image" class="img_ev3q"></p>
<p>白話點就是有天才把兩個queue拚在一起變成一個很酷的容器，原本的queue要加元素只能加在後面，要刪元素只能刪最後面，不過用了deque後就能對頭尾都做新增值和刪除值的動作。</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;deque&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deque&lt;int&gt; dq;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dq.push_front(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dq.push_back(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; dq.front(); // 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; dq.back();  // 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dq.pop_front();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dq.pop_back();</span><br></span></code></pre></div></div>
<hr>
<div class="theme-admonition theme-admonition-spoiler admonition_Gfwi alert alert--secondary"><summary class="admonitionHeading_f1Ed"><span class="admonitionIcon_kpSf"></span>原始碼</summary><div class="admonitionContent_UjKb"><details><div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">template&lt;class T&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class my_queue{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    struct Node{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        T val;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Node* nxt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Node(const T&amp; v): val(v), nxt(nullptr){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Node* head;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Node* tail;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    size_t sz;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    my_queue(): head(nullptr), tail(nullptr), sz(0){}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ~my_queue(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while(head){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Node* tmp = head;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            head = head-&gt;nxt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            delete tmp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void push(const T&amp; v){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Node* n = new Node(v);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(tail) tail-&gt;nxt = n;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else head = n;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tail = n;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sz++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void pop(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(!head) return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Node* tmp = head;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        head = head-&gt;nxt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(!head) tail = nullptr;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        delete tmp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sz--;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T&amp; front(){ return head-&gt;val; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const T&amp; front() const{ return head-&gt;val; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T&amp; back(){ return tail-&gt;val; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const T&amp; back() const{ return tail-&gt;val; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool empty() const{ return sz==0; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    size_t size() const{ return sz; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div></details></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="題目練習-5">題目練習<a href="#題目練習-5" class="hash-link" aria-label="題目練習的直接連結" title="題目練習的直接連結" translate="no">​</a></h3>
<p>b282
先來這裡<a href="https://tioj.sprout.tw/problems/36" target="_blank" rel="noopener noreferrer" class="">https://tioj.sprout.tw/problems/36</a></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="priority_queue--自訂排序">Priority_queue / 自訂排序<a href="#priority_queue--自訂排序" class="hash-link" aria-label="Priority_queue / 自訂排序的直接連結" title="Priority_queue / 自訂排序的直接連結" translate="no">​</a></h2>
<p>前面 queue 那邊有提過，這裡再單獨拿出來一下。<code>priority_queue</code> 可以想像成「永遠讓你先拿目前最大（或最小）那個」的容器，底層是堆（heap）</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="標頭檔-6">標頭檔:<a href="#標頭檔-6" class="hash-link" aria-label="標頭檔:的直接連結" title="標頭檔:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;queue&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="宣告-6">宣告:<a href="#宣告-6" class="hash-link" aria-label="宣告:的直接連結" title="宣告:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 預設最大堆（top 最大）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">priority_queue&lt;int&gt; pq;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 最小堆</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt; minpq;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="基本操作">基本操作:<a href="#基本操作" class="hash-link" aria-label="基本操作:的直接連結" title="基本操作:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pq.push(10);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pq.push(5);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pq.push(20);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; pq.top() &lt;&lt; &#x27;\n&#x27;; // 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pq.pop();                 // 移除 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; pq.top() &lt;&lt; &#x27;\n&#x27;; // 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; pq.size() &lt;&lt; &#x27;\n&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cout &lt;&lt; pq.empty() &lt;&lt; &#x27;\n&#x27;;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="自訂結構--排序">自訂結構 + 排序:<a href="#自訂結構--排序" class="hash-link" aria-label="自訂結構 + 排序:的直接連結" title="自訂結構 + 排序:的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct Node {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int dist;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 讓 dist 小的優先 (所以用 &gt;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">struct Cmp {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool operator()(const Node&amp; a, const Node&amp; b) const {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return a.dist &gt; b.dist;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">priority_queue&lt;Node, vector&lt;Node&gt;, Cmp&gt; pq2;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="最小堆--pair常見">最小堆 + pair（常見）<a href="#最小堆--pair常見" class="hash-link" aria-label="最小堆 + pair（常見）的直接連結" title="最小堆 + pair（常見）的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// (距離, 節點)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">priority_queue&lt;pair&lt;int,int&gt;, vector&lt;pair&lt;int,int&gt;&gt;, greater&lt;pair&lt;int,int&gt;&gt;&gt; pqd;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="找前-k-大也常見">找前 K 大（也常見）<a href="#找前-k-大也常見" class="hash-link" aria-label="找前 K 大（也常見）的直接連結" title="找前 K 大（也常見）的直接連結" translate="no">​</a></h3>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vector&lt;int&gt; nums = {5,1,9,3,7,8};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int K = 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt; keep; // 小的在 top</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for (int x : nums){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if ((int)keep.size() &lt; K) keep.push(x);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else if (x &gt; keep.top()){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        keep.pop();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        keep.push(x);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// keep 裡面就是最大的 K 個（無排序）</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="延遲刪除技巧lazy-delete">延遲刪除技巧（lazy delete）<a href="#延遲刪除技巧lazy-delete" class="hash-link" aria-label="延遲刪除技巧（lazy delete）的直接連結" title="延遲刪除技巧（lazy delete）的直接連結" translate="no">​</a></h3>
<p>因為不能直接刪中間：</p>
<div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">priority_queue&lt;int&gt; pp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unordered_map&lt;int,int&gt; dead;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto clean = [&amp;](){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    while(!pp.empty() &amp;&amp; dead[pp.top()]){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dead[pp.top()]--;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pp.pop();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pp.push(7);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pp.push(5);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dead[7]++; // 標記刪它</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clean();   // 真正清掉 7</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="複雜度-1">複雜度<a href="#複雜度-1" class="hash-link" aria-label="複雜度的直接連結" title="複雜度的直接連結" translate="no">​</a></h3>
<ul>
<li class="">push：O(log n)</li>
<li class="">pop：O(log n)</li>
<li class="">top：O(1)</li>
<li class="">沒有 find，也沒有原生 decrease-key → 想玩要自己搞</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="題目練習-6">題目練習:<a href="#題目練習-6" class="hash-link" aria-label="題目練習:的直接連結" title="題目練習:的直接連結" translate="no">​</a></h3>
<p>b262(不是功課)</p>
<hr>
<div class="theme-admonition theme-admonition-spoiler admonition_Gfwi alert alert--secondary"><summary class="admonitionHeading_f1Ed"><span class="admonitionIcon_kpSf"></span>原始碼</summary><div class="admonitionContent_UjKb"><details><div class="language-cpp= codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp= codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">template&lt;class T, class Compare = std::less&lt;T&gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class my_priority_queue{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vector&lt;T&gt; a;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Compare cmp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void sift_up(int i){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while(i&gt;0){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            int p=(i-1)/2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(!cmp(a[p], a[i])) break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            swap(a[p], a[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            i=p;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void sift_down(int i){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int n=a.size();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while(true){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            int l=i*2+1, r=i*2+2, g=i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(l&lt;n &amp;&amp; cmp(a[g], a[l])) g=l;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(r&lt;n &amp;&amp; cmp(a[g], a[r])) g=r;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(g==i) break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            swap(a[g], a[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            i=g;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void push(const T&amp; v){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        a.push_back(v);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sift_up((int)a.size()-1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void pop(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(a.empty()) return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        swap(a[0], a.back());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        a.pop_back();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(!a.empty()) sift_down(0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const T&amp; top() const{ return a.front(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool empty() const{ return a.empty(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int size() const{ return (int)a.size(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div></details></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="進階題練習">進階題練習<a href="#進階題練習" class="hash-link" aria-label="進階題練習的直接連結" title="進階題練習的直接連結" translate="no">​</a></h2>
<p>b146 b282 b283
這三題要用甚麼容器相信大家可以的
第一週的功課會簡單不少，希望大家可以寫寫看進階題
下週上課後我會再把這三題的題解丟上來
b283我花了好幾個小時測資一直爛 可先來這邊練<a href="https://tioj.sprout.tw/problems/19" target="_blank" rel="noopener noreferrer" class="">https://tioj.sprout.tw/problems/19</a>
b282也是<a href="https://tioj.sprout.tw/problems/18" target="_blank" rel="noopener noreferrer" class="">https://tioj.sprout.tw/problems/18</a></p>
<p>廢話: 如果某些容器裡面的內容長的格式不太一樣很正常:0 這講義好幾個月前試教弄了一點現在把他用完，然後此時此刻我大概編完講義了才發現這件事但我人快死了不想修，除非我心血來潮把他統一不然一些小點的標題是函式一些是功能請見諒<!-- -->:D</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/Fudan-Computer-Science/homepage/tree/main/docs/講義/講義/上課講義/14_th/advanced_class/2-STL.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>編輯此頁</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文件選項卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/homepage/docs/講義/講義/上課講義/th/advanced_class/time_complexity/"><div class="pagination-nav__sublabel">上一頁</div><div class="pagination-nav__label">時間複雜度</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/homepage/docs/講義/講義/上課講義/th/advanced_class/greedy/"><div class="pagination-nav__sublabel">下一頁</div><div class="pagination-nav__label">Greedy 貪心演算法</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#前言" class="table-of-contents__link toc-highlight">前言</a></li><li><a href="#vector" class="table-of-contents__link toc-highlight">Vector</a><ul><li><a href="#標頭檔" class="table-of-contents__link toc-highlight">標頭檔:</a></li><li><a href="#宣告" class="table-of-contents__link toc-highlight">宣告:</a></li><li><a href="#vector-的樣子-" class="table-of-contents__link toc-highlight">vector 的樣子 (?</a></li><li><a href="#常用函式" class="table-of-contents__link toc-highlight">常用函式:</a></li><li><a href="#其他函式有更多但真的很少用" class="table-of-contents__link toc-highlight">其他函式（有更多但真的很少用）</a></li></ul></li><li><a href="#pair" class="table-of-contents__link toc-highlight">Pair</a><ul><li><a href="#標頭檔-1" class="table-of-contents__link toc-highlight">標頭檔:</a></li><li><a href="#宣告-1" class="table-of-contents__link toc-highlight">宣告:</a></li><li><a href="#存取--交換" class="table-of-contents__link toc-highlight">存取 &amp; 交換</a></li><li><a href="#比大小內建字典序" class="table-of-contents__link toc-highlight">比大小（內建字典序）</a></li><li><a href="#tie--ignore拆開用" class="table-of-contents__link toc-highlight">tie / ignore（拆開用）</a></li><li><a href="#跟其他容器一起用" class="table-of-contents__link toc-highlight">跟其他容器一起用</a></li><li><a href="#什麼時候不該用-pair" class="table-of-contents__link toc-highlight">什麼時候不該用 pair？</a></li><li><a href="#題目練習-1" class="table-of-contents__link toc-highlight">題目練習:</a></li></ul></li><li><a href="#struct" class="table-of-contents__link toc-highlight">Struct</a><ul><li><a href="#範例" class="table-of-contents__link toc-highlight">範例</a></li></ul></li><li><a href="#set--multiset--unordered_set" class="table-of-contents__link toc-highlight">Set / Multiset / Unordered_set</a><ul><li><a href="#什麼時候選誰" class="table-of-contents__link toc-highlight">什麼時候選誰</a></li><li><a href="#標頭檔-2" class="table-of-contents__link toc-highlight">標頭檔:</a></li><li><a href="#宣告-2" class="table-of-contents__link toc-highlight">宣告:</a></li><li><a href="#插入" class="table-of-contents__link toc-highlight">插入:</a></li><li><a href="#查找--判斷存在" class="table-of-contents__link toc-highlight">查找 / 判斷存在:</a></li><li><a href="#刪除" class="table-of-contents__link toc-highlight">刪除:</a></li><li><a href="#遍歷-有序的才會排序" class="table-of-contents__link toc-highlight">遍歷 (有序的才會排序):</a></li><li><a href="#lower_bound--upper_bound只有-set--multiset-有" class="table-of-contents__link toc-highlight">lower_bound / upper_bound（只有 set / multiset 有）</a></li><li><a href="#自訂排序set-才能搞" class="table-of-contents__link toc-highlight">自訂排序（set 才能搞）</a></li><li><a href="#複雜度" class="table-of-contents__link toc-highlight">複雜度</a></li><li><a href="#注意" class="table-of-contents__link toc-highlight">注意</a></li><li><a href="#題目練習-2" class="table-of-contents__link toc-highlight">題目練習:</a></li></ul></li><li><a href="#map--unordered_map" class="table-of-contents__link toc-highlight">Map / Unordered_map</a><ul><li><a href="#標頭檔-3" class="table-of-contents__link toc-highlight">標頭檔:</a></li><li><a href="#宣告-3" class="table-of-contents__link toc-highlight">宣告:</a></li><li><a href="#插入--指派" class="table-of-contents__link toc-highlight">插入 / 指派:</a></li><li><a href="#查找" class="table-of-contents__link toc-highlight">查找:</a></li><li><a href="#遍歷" class="table-of-contents__link toc-highlight">遍歷:</a></li><li><a href="#刪除-1" class="table-of-contents__link toc-highlight">刪除:</a></li><li><a href="#lower_bound--upper_bound只有-map-有" class="table-of-contents__link toc-highlight">lower_bound / upper_bound（只有 map 有）</a></li><li><a href="#unordered_map-放自訂型別" class="table-of-contents__link toc-highlight">unordered_map 放自訂型別:</a></li><li><a href="#計數" class="table-of-contents__link toc-highlight">計數</a></li><li><a href="#避免誤建" class="table-of-contents__link toc-highlight">避免誤建</a></li><li><a href="#安全刪迭代" class="table-of-contents__link toc-highlight">安全刪迭代</a></li><li><a href="#map-vs-unordered_map-怎麼選" class="table-of-contents__link toc-highlight">map vs unordered_map 怎麼選</a></li><li><a href="#注意-1" class="table-of-contents__link toc-highlight">注意</a></li><li><a href="#題目練習-3" class="table-of-contents__link toc-highlight">題目練習:</a></li></ul></li><li><a href="#stack" class="table-of-contents__link toc-highlight">Stack</a><ul><li><a href="#標頭檔-4" class="table-of-contents__link toc-highlight">標頭檔:</a></li><li><a href="#宣告-4" class="table-of-contents__link toc-highlight">宣告:</a></li><li><a href="#stack-的特性" class="table-of-contents__link toc-highlight">stack 的特性</a></li><li><a href="#常用函式-1" class="table-of-contents__link toc-highlight">常用函式:</a></li><li><a href="#然後呢" class="table-of-contents__link toc-highlight">然後呢?</a></li><li><a href="#題目練習-4" class="table-of-contents__link toc-highlight">題目練習</a></li></ul></li><li><a href="#queue--deque" class="table-of-contents__link toc-highlight">Queue / Deque</a><ul><li><a href="#標頭檔-5" class="table-of-contents__link toc-highlight">標頭檔:</a></li><li><a href="#宣告-5" class="table-of-contents__link toc-highlight">宣告:</a></li><li><a href="#queue-長啥樣" class="table-of-contents__link toc-highlight">queue 長啥樣</a></li><li><a href="#常用函式-2" class="table-of-contents__link toc-highlight">常用函式:</a></li><li><a href="#然後呢-1" class="table-of-contents__link toc-highlight">然後呢?</a></li><li><a href="#需要注意的小地方" class="table-of-contents__link toc-highlight">需要注意的小地方</a></li><li><a href="#deque" class="table-of-contents__link toc-highlight">deque</a></li><li><a href="#題目練習-5" class="table-of-contents__link toc-highlight">題目練習</a></li></ul></li><li><a href="#priority_queue--自訂排序" class="table-of-contents__link toc-highlight">Priority_queue / 自訂排序</a><ul><li><a href="#標頭檔-6" class="table-of-contents__link toc-highlight">標頭檔:</a></li><li><a href="#宣告-6" class="table-of-contents__link toc-highlight">宣告:</a></li><li><a href="#基本操作" class="table-of-contents__link toc-highlight">基本操作:</a></li><li><a href="#自訂結構--排序" class="table-of-contents__link toc-highlight">自訂結構 + 排序:</a></li><li><a href="#最小堆--pair常見" class="table-of-contents__link toc-highlight">最小堆 + pair（常見）</a></li><li><a href="#找前-k-大也常見" class="table-of-contents__link toc-highlight">找前 K 大（也常見）</a></li><li><a href="#延遲刪除技巧lazy-delete" class="table-of-contents__link toc-highlight">延遲刪除技巧（lazy delete）</a></li><li><a href="#複雜度-1" class="table-of-contents__link toc-highlight">複雜度</a></li><li><a href="#題目練習-6" class="table-of-contents__link toc-highlight">題目練習:</a></li></ul></li><li><a href="#進階題練習" class="table-of-contents__link toc-highlight">進階題練習</a></li></ul></div></div></div><div style="margin-top:4rem"></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">資源</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/homepage/docs/category/入班考講義/">講義</a></li><li class="footer__item"><a class="footer__link-item" href="/homepage/blog/">部落格</a></li><li class="footer__item"><a href="https://github.com/Fudan-Computer-Science/homepage/tree/main/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">網站GitHub連結<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">社群</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Fudan-Computer-Science" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.instagram.com/fdcs_114/" target="_blank" rel="noopener noreferrer" class="footer__link-item">第十四屆IG<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/FDHSCoder/?locale=zh_TW" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook 粉專<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">合作單位/學校</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://scint.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SCINT 北臺灣資訊學生社群<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.instagram.com/cmioc_32nd/" target="_blank" rel="noopener noreferrer" class="footer__link-item">景美電資32nd<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.instagram.com/fgisc39th/" target="_blank" rel="noopener noreferrer" class="footer__link-item">北一女中資訊研習社第39屆<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 復旦程式設計班, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>