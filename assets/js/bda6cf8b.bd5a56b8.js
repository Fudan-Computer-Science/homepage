"use strict";(self.webpackChunkhomepage=self.webpackChunkhomepage||[]).push([[8917],{24528:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(96540),r=n(74848);function l({day:e,events:t,onClick:n,width:a=100,height:l=100}){return(0,r.jsxs)("div",{onClick:n,style:{borderRadius:12,background:"#fff",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",minHeight:100,minWidth:100,padding:8,display:"flex",flexDirection:"column",cursor:t.length?"pointer":void 0,transition:"transform 0.1s, box-shadow 0.2s"},onMouseEnter:e=>{const t=e.currentTarget;t.style.transform="translateY(-2px)",t.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseLeave:e=>{const t=e.currentTarget;t.style.transform="translateY(0)",t.style.boxShadow="0 2px 6px rgba(0,0,0,0.1)"},children:[(0,r.jsx)("div",{style:{fontWeight:"600",marginBottom:4},children:e}),(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:4,flex:1},children:t.map(((e,t)=>(0,r.jsx)("div",{style:{fontSize:12,color:"#fff",background:e.color||"#2196f3",padding:"2px 6px",borderRadius:6,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:e.title,children:e.title},t)))})]})}const s={CalendarButton:"CalendarButton_Uuwb"};function i({apiKey:e,calendars:t}){const[n,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(new Date),[d,u]=(0,a.useState)([]),[g,f]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{f(!0);const n=[],a=o.getFullYear(),r=new Date(a,0,1).toISOString(),l=new Date(a,11,31,23,59,59).toISOString();try{await Promise.all(t.map((async t=>{const a=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(t.id)}/events?key=${e}&timeMin=${r}&timeMax=${l}&singleEvents=true&orderBy=startTime`,s=await fetch(a),i=await s.json();i.items&&i.items.forEach((e=>{n.push({date:e.start.date||e.start.dateTime?.slice(0,10),title:e.summary||"\ud83d\udd12 \u79c1\u6709\u6d3b\u52d5",url:e.htmlLink,color:t.color})}))}))),i(n)}catch(s){console.error("\u8f09\u5165\u4e8b\u4ef6\u5931\u6557",s)}finally{f(!1)}})()}),[e,t,o.getFullYear()]),(0,a.useEffect)((()=>{const e=o.getFullYear(),t=o.getMonth(),n=new Date(e,t,1),a=new Date(e,t+1,0),r=n.getDay(),l=a.getDate(),s=[];for(let i=0;i<r;i++)s.push(null);for(let i=1;i<=l;i++)s.push(i);u(s)}),[o]);return(0,r.jsxs)("div",{style:{maxWidth:800,margin:"auto",fontFamily:"Arial, sans-serif"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12,alignItems:"center"},children:[(0,r.jsx)("button",{onClick:()=>c(new Date(o.getFullYear(),o.getMonth()-1,1)),className:s.CalendarButton,onMouseEnter:e=>e.currentTarget.style.background="#eaeaea",onMouseLeave:e=>e.currentTarget.style.background="#f5f5f5",children:"\u25c0 Prev"}),(0,r.jsxs)("h3",{style:{margin:0},children:[o.toLocaleString("default",{month:"long"})," ",o.getFullYear()]}),(0,r.jsx)("button",{onClick:()=>c(new Date(o.getFullYear(),o.getMonth()+1,1)),className:s.CalendarButton,onMouseEnter:e=>e.currentTarget.style.background="#eaeaea",onMouseLeave:e=>e.currentTarget.style.background="#f5f5f5",children:"Next \u25b6"})]}),g?(0,r.jsx)("div",{style:{textAlign:"center",padding:20},children:"\u23f3 \u8f09\u5165\u4e2d..."}):(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:8},children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((e=>(0,r.jsx)("div",{style:{fontWeight:600,textAlign:"center"},children:e},e))),d.map(((e,t)=>{if(!e)return(0,r.jsx)("div",{},t);const a=((e,t,a)=>{const r=`${e}-${String(t+1).padStart(2,"0")}-${String(a).padStart(2,"0")}`;return n.filter((e=>e.date===r))})(o.getFullYear(),o.getMonth(),e);return(0,r.jsx)(l,{day:e,events:a,onClick:()=>{if(a.length){const e=a.map((e=>e.url)).filter(Boolean);1===e.length?window.open(e[0],"_blank"):alert(a.map((e=>e.title)).join("\n"))}}},t)}))]})]})}var o=n(78478),c=n(62765);const d="AIzaSyCzKHk9nRzKI4ldIrb1xZc8lhQgiewBoc8",u=[{id:"fdcs.cpp@gmail.com",color:"#2196f3",name:"\u7a0b\u8a2d\u73ed\u4e0a\u8ab2"},{id:"082f3273638f3653d139c2ff04f4dec4a12b64c744419cfb5030a7a7060e6c99@group.calendar.google.com",color:"#4caf50",name:"\u5fa9\u65e6\u884c\u4e8b\u66c6"}];function g(){return(0,r.jsx)(c.A,{children:(0,r.jsxs)("div",{style:{padding:"2rem",fontFamily:"Arial, sans-serif"},children:[(0,r.jsx)(i,{apiKey:d,calendars:u}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"16px",marginTop:"24px",flexWrap:"wrap"},children:u.map((e=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,r.jsx)("div",{style:{width:16,height:16,borderRadius:4,background:e.color}}),(0,r.jsx)("span",{style:{fontSize:14},children:e.name})]},e.id)))})]})})}function f(){return(0,r.jsx)(o.A,{fallback:(0,r.jsx)("div",{children:"Loading calendar..."}),children:()=>(0,r.jsx)(g,{})})}},78478:(e,t,n)=>{n.d(t,{A:()=>l});n(96540);var a=n(92303),r=n(74848);function l({children:e,fallback:t}){return(0,a.A)()?(0,r.jsx)(r.Fragment,{children:e?.()}):t??null}}}]);