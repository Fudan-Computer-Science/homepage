"use strict";(self.webpackChunkhomepage=self.webpackChunkhomepage||[]).push([[1518],{6779:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var s=r(6540),l=r(4848);const n={width:"400px",height:"500px",border:"2px solid white",background:"#111",borderRadius:"8px",boxShadow:"0 0 20px #0ff",display:"block",margin:"0 auto"},o=()=>{const e=(0,s.useRef)(null),t=(0,s.useRef)(180),r=(0,s.useRef)([]),o=(0,s.useRef)([]),c=(0,s.useRef)([]),[i,a]=(0,s.useState)(!1),[f,h]=(0,s.useState)(0);return(0,s.useEffect)((()=>{const s=e.current,l=s.getContext("2d");s.width=400,s.height=500;let n,u=0,y=!0;const d=()=>{y&&!i&&(l.fillStyle="rgba(15, 20, 30, 0.5)",l.fillRect(0,0,s.width,s.height),l.fillStyle="#00ffff",l.fillRect(t.current,450,40,30),r.current=r.current.filter((e=>e.y>-10)),r.current.forEach((e=>{e.y+=e.vy,l.fillStyle="#ffff00",l.fillRect(e.x,e.y,4,10)})),o.current.forEach(((e,s)=>{e.y+=1;const c=e.isBoss?50:3,i=e.hp/c,f=Math.floor(255*i),u=Math.floor(50*i),d=e.isBoss?`rgba(${f},0,${f},0.8)`:`rgba(${f},${u},${u},0.8)`;l.fillStyle=d,l.fillRect(e.x,e.y,e.isBoss?80:30,e.isBoss?40:30),r.current.forEach((t=>{const r=e.x,l=e.y,n=e.isBoss?80:30,c=e.isBoss?40:30;t.x>r&&t.x<r+n&&t.y>l&&t.y<l+c&&(e.hp-=1,t.y=-100,x(t.x,t.y),e.hp<=0&&(o.current.splice(s,1),h((t=>t+(e.isBoss?100:10)))))})),e.y>430&&Math.abs(e.x-t.current)<30&&(a(!0),y=!1,cancelAnimationFrame(n))})),c.current=c.current.filter((e=>e.life>0)),c.current.forEach((e=>{e.x+=e.vx,e.y+=e.vy,e.life-=1,l.fillStyle=e.color,l.globalAlpha=e.life/30,l.beginPath(),l.arc(e.x,e.y,2,0,2*Math.PI),l.fill(),l.globalAlpha=1})),u%100==0&&o.current.push({x:360*Math.random(),y:0,hp:3}),f>=100&&!o.current.some((e=>e.isBoss))&&o.current.push({x:160,y:0,hp:50,isBoss:!0}),u++,n=requestAnimationFrame(d))},x=(e,t)=>{for(let r=0;r<20;r++){const r=2*Math.random()*Math.PI,s=2*Math.random();c.current.push({x:e,y:t,vx:Math.cos(r)*s,vy:Math.sin(r)*s,life:30,color:`hsl(${360*Math.random()}, 100%, 70%)`})}},p=e=>{const r=s.getBoundingClientRect();t.current=e.clientX-r.left-20},m=setInterval((()=>{y&&r.current.push({x:t.current+18,y:440,vx:0,vy:-6})}),250);return window.addEventListener("mousemove",p),d(),()=>{cancelAnimationFrame(n),clearInterval(m),window.removeEventListener("mousemove",p)}}),[f,i]),(0,l.jsxs)("div",{style:{textAlign:"center",marginTop:"2rem"},children:[(0,l.jsx)("h2",{style:{color:"#fff"},children:"\ud83d\ude80 \u7a7a\u6230\u904a\u6232"}),(0,l.jsxs)("p",{style:{color:"#0ff"},children:["\u5206\u6578: ",f]}),i&&(0,l.jsx)("div",{style:{color:"red",fontSize:"2rem"},children:"\ud83d\udc80 Game Over"}),(0,l.jsx)("canvas",{ref:e,style:n})]})}}}]);