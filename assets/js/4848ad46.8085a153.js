"use strict";(self.webpackChunkhomepage=self.webpackChunkhomepage||[]).push([[1842],{1570:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var r=t(6540),a=t(4848);function o(){const[e,s]=(0,r.useState)(220),t=(0,r.useRef)(e),[o,n]=(0,r.useState)([]),c=(0,r.useRef)([]),[i,l]=(0,r.useState)([]),[d,h]=(0,r.useState)(0),[u,f]=(0,r.useState)(3),[m,p]=(0,r.useState)(!1),[y,x]=(0,r.useState)(!1),v=(0,r.useRef)(null);(0,r.useEffect)((()=>{t.current=e}),[e]),(0,r.useEffect)((()=>{c.current=o}),[o]);const w=e=>{s((s=>{const r=Math.max(0,Math.min(s+("left"===e?-20:20),440));return t.current=r,r}))},b=()=>{m||n((e=>[...e,{x:t.current+15,y:440}]))};return(0,r.useEffect)((()=>{const e=e=>{m||("ArrowLeft"===e.code?w("left"):"ArrowRight"===e.code?w("right"):"Space"===e.code&&b())};return window.addEventListener("keydown",e),m||(v.current=window.setInterval((()=>{m||(n((e=>e.map((e=>({...e,y:e.y-10}))).filter((e=>e.y>0)))),l((e=>{const s=[];return e.forEach((e=>{let r=!1;for(const s of c.current)if(Math.abs(s.x-e.x)<e.size&&Math.abs(s.y-e.y)<e.size){r=!0,e.hp-=1,e.hp<=0&&h((s=>s+(e.isBoss?10:1)));break}Math.abs(e.x-t.current)<e.size&&Math.abs(e.y-470)<e.size?f((e=>{const s=e-1;return s<=0&&p(!0),s})):(!r||e.hp>0)&&s.push({...e,y:e.y+e.speed})})),s.filter((e=>e.y<500))}))),Math.random()<.05&&(()=>{if(!y&&d>=15){const e={id:Date.now(),x:150,y:0,type:"boss",speed:1,hp:20,color:"black",size:100,isBoss:!0};return l((s=>[...s,e])),void x(!0)}const e=Date.now(),s=Math.floor(440*Math.random()),t=Math.random();let r="normal",a=3,o=1,n="red",c=40;t<.6?(r="normal",a=3,o=1,n="red",c=40):t<.85?(r="fast",a=6,o=1,n="orange",c=30):(r="tank",a=1.5,o=3,n="purple",c=50),l((t=>[...t,{id:e,x:s,y:0,type:r,speed:a,hp:o,color:n,size:c}]))})()}),1e3/30)),()=>{window.removeEventListener("keydown",e),v.current&&clearInterval(v.current)}}),[d,y,m]),(0,a.jsxs)("div",{className:"game-container",children:[(0,a.jsx)("h1",{children:"\ud83d\ude80 \u6253\u98db\u8239 - Boss \u6230 by 14th\u9032\u968e\u6559\u5b78 (vide coding with ChatGPT)"}),(0,a.jsxs)("div",{className:"game-area",children:[(0,a.jsx)("div",{className:"ship",style:{left:e}}),o.map(((e,s)=>(0,a.jsx)("div",{className:"bullet",style:{left:e.x,top:e.y}},s))),i.map((e=>(0,a.jsx)("div",{className:"enemy",style:{left:e.x,top:e.y,backgroundColor:e.color,width:e.size,height:e.size,border:e.isBoss?"4px solid gold":"none"}},e.id)))]}),(0,a.jsxs)("div",{className:"score",children:["\u2764\ufe0f \u8840\u91cf\uff1a",u,"\u3000\ud83c\udfaf \u5206\u6578\uff1a",d]}),m&&(0,a.jsxs)("div",{className:"game-over",children:["\u2620\ufe0f GAME OVER \u2620\ufe0f",(0,a.jsx)("br",{}),"\u6700\u7d42\u5206\u6578\uff1a",d]}),(0,a.jsx)("div",{className:"touch-zone left",onClick:()=>w("left")}),(0,a.jsx)("div",{className:"touch-zone center",onClick:b}),(0,a.jsx)("div",{className:"touch-zone right",onClick:()=>w("right")})]})}}}]);